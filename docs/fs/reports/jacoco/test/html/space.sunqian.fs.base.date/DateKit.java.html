<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>DateKit.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">fs-all</a> &gt; <a href="index.source.html" class="el_package">space.sunqian.fs.base.date</a> &gt; <span class="el_source">DateKit.java</span></div><h1>DateKit.java</h1><pre class="source lang-java linenums">package space.sunqian.fs.base.date;

import space.sunqian.annotation.Nonnull;
import space.sunqian.annotation.Nullable;

import java.time.DateTimeException;
import java.time.Instant;
import java.time.ZoneOffset;
import java.time.temporal.TemporalAccessor;
import java.util.Date;

/**
 * Utilities for time and date. This class is backed by {@link DateFormatter#defaultFormatter()}.
 *
 * @author sunqian
 */
public class DateKit {

    /**
     * Default format pattern: &quot;yyyy-MM-dd HH:mm:ss.SSS&quot;.
     */
    public static final @Nonnull String DEFAULT_PATTERN = &quot;yyyy-MM-dd HH:mm:ss.SSS&quot;;

<span class="fc" id="L24">    static final @Nonnull DateFormatter formatter = DateFormatter.ofPattern(DEFAULT_PATTERN);</span>

    /**
     * Formats the given date by {@link #formatter}.
     *
     * @param date the given date to format
     * @return the formatted string
     * @throws DateTimeException if any error occurs
     */
    public static @Nonnull String format(@Nonnull Date date) throws DateTimeException {
<span class="fc" id="L34">        return formatter.format(date);</span>
    }

    /**
     * Formats the given date by {@link #formatter}. If the given date is {@code null}, or an exception thrown during
     * formating, returns {@code null}.
     *
     * @param date the given date to format, can be {@code null}
     * @return the formatted string, or {@code null} if the given date is {@code null} or an exception thrown
     * @throws DateTimeException if any error occurs
     */
    public static @Nullable String formatSafe(@Nullable Date date) throws DateTimeException {
<span class="fc" id="L46">        return formatter.formatSafe(date);</span>
    }

    /**
     * Formats the given time object by {@link #formatter}.
     *
     * @param time the given time object to format
     * @return the formatted string
     * @throws DateTimeException if any error occurs
     */
    public static @Nonnull String format(@Nonnull TemporalAccessor time) throws DateTimeException {
<span class="fc" id="L57">        return formatter.format(time);</span>
    }

    /**
     * Formats the given time object by {@link #formatter}. If the given time object is {@code null}, or an exception
     * thrown during formating, returns {@code null}.
     *
     * @param time the given time object to format, can be {@code null}
     * @return the formatted string, or {@code null} if the given time object is {@code null} or an exception thrown
     * @throws DateTimeException if any error occurs
     */
    public static @Nullable String formatSafe(@Nullable TemporalAccessor time) throws DateTimeException {
<span class="fc" id="L69">        return formatter.formatSafe(time);</span>
    }

    /**
     * Parses the given date string to an instance of the specified time type by {@link #formatter}.
     *
     * @param date     the given date string to parse
     * @param timeType the specified time type
     * @param &lt;T&gt;      the time type
     * @return the parsed time instance
     * @throws DateTimeException if any error occurs
     */
    public static &lt;T&gt; @Nonnull T parse(
        @Nonnull CharSequence date, @Nonnull Class&lt;T&gt; timeType
    ) throws DateTimeException {
<span class="fc" id="L84">        return formatter.parse(date, timeType);</span>
    }

    /**
     * Parses the given date string to an instance of the specified time type by {@link #formatter}. If the given date
     * string is {@code null}, or an exception thrown during parsing, returns {@code null}.
     *
     * @param date     the given date string to parse, can be {@code null}
     * @param timeType the specified time type
     * @param &lt;T&gt;      the time type
     * @return the parsed time instance, or {@code null} if the given date string is {@code null} or an exception thrown
     * @throws DateTimeException if any error occurs
     */
    public static &lt;T&gt; @Nullable T parseSafe(
        @Nullable CharSequence date, @Nonnull Class&lt;T&gt; timeType
    ) throws DateTimeException {
<span class="fc" id="L100">        return formatter.parseSafe(date, timeType);</span>
    }

    /**
     * Converts the given date to an instance of the specified time type.
     *
     * @param date     the given date to parse
     * @param timeType the specified time type
     * @param &lt;T&gt;      the time type
     * @return the converted time instance
     * @throws DateTimeException if any error occurs
     */
    public static &lt;T&gt; @Nonnull T convert(@Nonnull Date date, @Nonnull Class&lt;T&gt; timeType) throws DateTimeException {
<span class="fc" id="L113">        return formatter.convert(date, timeType);</span>
    }

    /**
     * Converts the given date to an instance of the specified time type. If the given date is {@code null}, or an
     * exception thrown during parsing, returns {@code null}.
     *
     * @param date     the given date to parse, can be {@code null}
     * @param timeType the specified time type
     * @param &lt;T&gt;      the time type
     * @return the converted time instance, or {@code null} if the given date is {@code null} or an exception thrown
     * @throws DateTimeException if any error occurs
     */
    public static &lt;T&gt; @Nullable T convertSafe(
        @Nullable Date date, @Nonnull Class&lt;T&gt; timeType
    ) throws DateTimeException {
<span class="fc" id="L129">        return formatter.convertSafe(date, timeType);</span>
    }

    /**
     * Converts the given time object to an instance of the specified time type.
     *
     * @param time     the given time object to parse
     * @param timeType the specified time type
     * @param &lt;T&gt;      the time type
     * @return the converted time instance
     * @throws DateTimeException if any error occurs
     */
    public static &lt;T&gt; @Nonnull T convert(
        @Nonnull TemporalAccessor time, @Nonnull Class&lt;T&gt; timeType
    ) throws DateTimeException {
<span class="fc" id="L144">        return formatter.convert(time, timeType);</span>
    }

    /**
     * Converts the given time object to an instance of the specified time type. If the given time object is
     * {@code null}, or an exception thrown during parsing, returns {@code null}.
     *
     * @param time     the given time object to parse, can be {@code null}
     * @param timeType the specified time type
     * @param &lt;T&gt;      the time type
     * @return the converted time instance, or {@code null} if the given time object is {@code null} or an exception
     * thrown
     * @throws DateTimeException if any error occurs
     */
    public static &lt;T&gt; @Nullable T convertSafe(
        @Nullable TemporalAccessor time, @Nonnull Class&lt;T&gt; timeType
    ) throws DateTimeException {
<span class="fc" id="L161">        return formatter.convertSafe(time, timeType);</span>
    }

    /**
     * Returns the {@link ZoneOffset} at the current time, which is equivalent to:
     * {@code ZoneOffset.systemDefault().getRules().getOffset(Instant.now())}.
     *
     * @return the {@link ZoneOffset} at the current time
     */
    public static @Nonnull ZoneOffset nowOffset() {
<span class="fc" id="L171">        return ZoneOffset.systemDefault().getRules().getOffset(Instant.now());</span>
    }

    private DateKit() {
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.14.202510111229</span></div></body></html>